"use strict";(self.webpackChunkcra_template_doly_site=self.webpackChunkcra_template_doly_site||[]).push([[146],{73625:function(s,a,_){_.r(a);var o=_(22980),i=_(45926),c=_(84833),x=_(58300),m=_(44390),n=_(43362),p=_(81296),h=_(76366),r=_(33217),l=_(78165),d=_(75271),t=_(52669),e=_(52676);function u(){return(0,e.jsx)(r.dY,{children:(0,e.jsx)(d.Suspense,{fallback:(0,e.jsx)(l.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"\u96C6\u6210-mst",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u96C6\u6210-mst",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u96C6\u6210 MST"]}),(0,e.jsx)("blockquote",{children:(0,e.jsxs)("p",{children:[t.texts[0].value,(0,e.jsx)("a",{href:"https://juejin.cn/post/6844903772972384263",children:t.texts[1].value})]})}),(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:"https://github.com/doly-dev/cra-template-doly-examples/tree/main/examples/mst",children:t.texts[2].value})}),(0,e.jsxs)("p",{children:[t.texts[3].value,(0,e.jsx)("a",{href:"https://mobx-state-tree.js.org/",children:t.texts[4].value}),t.texts[5].value,(0,e.jsx)("a",{href:"https://mobx-state-tree.js.org/concepts/using-react",children:t.texts[6].value}),t.texts[7].value]}),(0,e.jsxs)("h2",{id:"\u5B89\u88C5\u4F9D\u8D56",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u5B89\u88C5\u4F9D\u8D56",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u5B89\u88C5\u4F9D\u8D56"]}),(0,e.jsx)(n.Z,{lang:"bash",children:t.texts[8].value}),(0,e.jsxs)("h2",{id:"\u4F7F\u7528\u6B65\u9AA4",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u4F7F\u7528\u6B65\u9AA4",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u4F7F\u7528\u6B65\u9AA4"]}),(0,e.jsx)("ol",{children:(0,e.jsxs)("li",{children:[t.texts[9].value,(0,e.jsx)("a",{href:"https://github.com/ecklf/react-hooks-mobx-state-tree/tree/main/src/models",children:t.texts[10].value}),t.texts[11].value,(0,e.jsx)("code",{children:t.texts[12].value}),t.texts[13].value,(0,e.jsx)("a",{href:"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint",children:t.texts[14].value}),t.texts[15].value]})}),(0,e.jsx)("p",{children:(0,e.jsx)("strong",{children:t.texts[16].value})}),(0,e.jsx)(n.Z,{lang:"typescript",children:t.texts[17].value}),(0,e.jsx)("ol",{start:"2",children:(0,e.jsxs)("li",{children:[t.texts[18].value,(0,e.jsx)("code",{children:t.texts[19].value})]})}),(0,e.jsx)(n.Z,{lang:"typescript",children:t.texts[20].value}),(0,e.jsx)("ol",{start:"3",children:(0,e.jsx)("li",{children:t.texts[21].value})}),(0,e.jsx)(n.Z,{lang:"typescript",children:t.texts[22].value}),(0,e.jsxs)("h2",{id:"\u679A\u4E3E\u7C7B\u578B\u7BA1\u7406",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u679A\u4E3E\u7C7B\u578B\u7BA1\u7406",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u679A\u4E3E\u7C7B\u578B\u7BA1\u7406"]}),(0,e.jsx)("blockquote",{children:(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:"https://github.com/mobxjs/mobx-state-tree/issues/605",children:t.texts[23].value})})}),(0,e.jsx)("p",{children:t.texts[24].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:t.texts[25].value})}),(0,e.jsx)("p",{children:(0,e.jsx)("strong",{children:t.texts[26].value})}),(0,e.jsx)(n.Z,{lang:"typescript",children:t.texts[27].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:t.texts[28].value})}),(0,e.jsx)("p",{children:(0,e.jsx)("strong",{children:t.texts[29].value})}),(0,e.jsx)(n.Z,{lang:"typescript",children:t.texts[30].value})]})})})})}a.default=u},52669:function(s,a,_){_.r(a),_.d(a,{texts:function(){return o}});const o=[{value:"\u5B66\u4E60\u6587\u6863\uFF1A",paraId:0,tocIndex:0},{value:"MobX State Tree \u6570\u636E\u7EC4\u4EF6\u5316\u5F00\u53D1",paraId:0,tocIndex:0},{value:"\u793A\u4F8B\u5730\u5740",paraId:1,tocIndex:0},{value:"\u96C6\u6210 ",paraId:2,tocIndex:0},{value:"mobx-state-tree",paraId:2,tocIndex:0},{value:" \u6570\u636E\u7BA1\u7406\uFF0C\u53C2\u8003 ",paraId:2,tocIndex:0},{value:"React and MST",paraId:2,tocIndex:0},{value:" \u3002",paraId:2,tocIndex:0},{value:`yarn add mobx mobx-react-lite mobx-state-tree
`,paraId:3,tocIndex:1},{value:"\u5C06 ",paraId:4,tocIndex:2},{value:"https://github.com/ecklf/react-hooks-mobx-state-tree/tree/main/src/models",paraId:4,tocIndex:2},{value:" \u590D\u5236\u5230 ",paraId:4,tocIndex:2},{value:"src/models",paraId:4,tocIndex:2},{value:"\u4E0B\uFF0C\u90E8\u5206\u7C7B\u578B\u9519\u8BEF\u9700\u8981\u8C03\u6574\uFF0C\u76F4\u63A5\u4F7F\u7528\u5FEB\u901F\u4FEE\u590D\uFF08",paraId:4,tocIndex:2},{value:"VSCode ESLint \u63D2\u4EF6",paraId:4,tocIndex:2},{value:"\uFF09\u3002",paraId:4,tocIndex:2},{value:"\u6CE8\u610F\u4EE5\u4E0B\u7F13\u5B58\u90E8\u5206\uFF0C\u5982\u679C\u6CA1\u6709\u7528\u5230\uFF0C\u8BF7\u914C\u60C5\u5220\u9664\uFF01",paraId:5,tocIndex:2},{value:`// ...

// \u5B9E\u4F8B model \u65F6\uFF0C\u5982\u679C\u6709\u7F13\u5B58\u6570\u636E\u5C31\u4F7F\u7528
// \u9700\u8981\u6CE8\u610F\u9000\u51FA\u767B\u5F55\u6E05\u9664\u3001\u8FDB\u5165\u9875\u9762\u66F4\u65B0\u6570\u636E
if (process.browser) {
  const data = localStorage.getItem('rootState');
  if (data) {
    const json = JSON.parse(data);
    if (RootModel.is(json)) {
      initialState = RootModel.create(json);
    }
  }
}

// ...

// \u76D1\u542C\u6570\u636E\u53D8\u52A8\u7F13\u5B58\u6570\u636E
onSnapshot(rootStore, snapshot => {
  console.log('Snapshot: ', snapshot);
  localStorage.setItem('rootState', JSON.stringify(snapshot));
});

// ...
`,paraId:6,tocIndex:2},{value:"\u4FEE\u6539 ",paraId:7,tocIndex:2},{value:"src/index.tsx",paraId:7,tocIndex:2},{value:`import { Provider, rootStore } from '@/models/Root';
// ...

function App() {
  return (
    // <React.StrictMode>
    <Provider value={rootStore}>
      <RouterProvider router={router} fallbackElement={<PageLoading />} />
    </Provider>
    // </React.StrictMode>
  );
}
`,paraId:8,tocIndex:2},{value:"\u7EC4\u4EF6\u4E2D\u4F7F\u7528",paraId:9,tocIndex:2},{value:`import { observer } from "mobx-react-lite";
import { useMst } from '@/models/Root';

const SomeComponent = observer(()=>{
  const { cart } = useMst();
  console.log(cart);

  return (
    // ...
  )
});

export default SomeComponent;
`,paraId:10,tocIndex:2},{value:"Support Enums and union type for enumeration",paraId:11,tocIndex:3},{value:"\u6CE8\u610F\u533A\u5206\u6570\u5B57\u679A\u4E3E\u548C\u5B57\u7B26\u4E32\u679A\u4E3E\u3002",paraId:12,tocIndex:3},{value:"\u670D\u52A1\u63A5\u53E3\u5B9A\u4E49\u7684\u679A\u4E3E\u6570\u636E",paraId:13,tocIndex:3},{value:"services/types/enum.ts",paraId:14,tocIndex:3},{value:`/**\u662F\u5426\u6DFB\u52A0\u6C34\u5370\u6807\u8BB0 0-\u4E0D\u6DFB\u52A0;1-\u6DFB\u52A0*/
export enum EWaterFlag {
  No,
  Yes
}

/**\u989C\u8272 red-\u7EA2;green-\u7EFF;blue-\u84DD*/
export enum EColor {
  Red = 'red',
  Green = 'green',
  Blue = 'blue'
}
`,paraId:15,tocIndex:3},{value:"MST \u4E2D\u7684\u679A\u4E3E",paraId:16,tocIndex:3},{value:"models/enum.ts",paraId:17,tocIndex:3},{value:`import { types } from 'mobx-state-box';
import { EWaterFlag, EColor } from '@/services/types/enum';

/**\u662F\u5426\u6DFB\u52A0\u6C34\u5370\u6807\u8BB0\uFF08\u6570\u5B57\u679A\u4E3E\uFF09 0-\u4E0D\u6DFB\u52A0;1-\u6DFB\u52A0*/
export const UWaterFlag = types.union(types.literal(EWaterFlag.No), types.literal(EWaterFlag.Yes));

/**\u989C\u8272\uFF08\u5B57\u7B26\u4E32\u679A\u4E3E\uFF09 red-\u7EA2;green-\u7EFF;blue-\u84DD*/
export const UColor = types.enumeration<EColor>(Object.values(EColor));
`,paraId:18,tocIndex:3}]}}]);
