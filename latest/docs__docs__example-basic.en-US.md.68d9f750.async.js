"use strict";(self.webpackChunkcra_template_doly_site=self.webpackChunkcra_template_doly_site||[]).push([[254],{91082:function(l,n,a){a.r(n);var d=a(22035),c=a(9099),u=a(75799),p=a(6434),x=a(32966),t=a(67779),h=a(72702),m=a(51273),s=a(4434),r=a(80879),i=a(75271),_=a(69181),e=a(52676);function o(){return(0,e.jsx)(s.dY,{children:(0,e.jsx)(i.Suspense,{fallback:(0,e.jsx)(r.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h1",{id:"build-configuration",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#build-configuration",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Build configuration"]}),(0,e.jsx)("p",{children:(0,e.jsx)("a",{href:"https://github.com/doly-dev/cra-template-doly-examples/tree/main/examples/basic",children:_.texts[0].value})}),(0,e.jsx)("p",{children:_.texts[1].value}),(0,e.jsxs)("h2",{id:"application-release",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#application-release",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Application release"]}),(0,e.jsxs)("p",{children:[_.texts[2].value,(0,e.jsx)("code",{children:_.texts[3].value}),_.texts[4].value]}),(0,e.jsxs)("p",{children:[_.texts[5].value,(0,e.jsx)("code",{children:_.texts[6].value})]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:_.texts[7].value})})}),(0,e.jsx)(t.Z,{lang:"javascript",children:_.texts[8].value}),(0,e.jsxs)("p",{children:[_.texts[9].value,(0,e.jsx)("code",{children:_.texts[10].value}),_.texts[11].value]}),(0,e.jsxs)("h2",{id:"static-resources",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#static-resources",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Static resources"]}),(0,e.jsx)("p",{children:_.texts[12].value}),(0,e.jsx)("blockquote",{children:(0,e.jsx)("p",{children:_.texts[13].value})}),(0,e.jsxs)("p",{children:[_.texts[14].value,(0,e.jsx)("code",{children:_.texts[15].value}),_.texts[16].value]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:_.texts[17].value})})}),(0,e.jsx)(t.Z,{lang:"javascript",children:_.texts[18].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:_.texts[19].value})})}),(0,e.jsx)(t.Z,{lang:"javascript",children:_.texts[20].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:_.texts[21].value})}),(0,e.jsx)(t.Z,{lang:"bash",children:_.texts[22].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:_.texts[23].value})}),(0,e.jsx)(t.Z,{lang:"bash",children:_.texts[24].value}),(0,e.jsxs)("h2",{id:"sandbox-environment-or-deploy-a-third-party-server",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#sandbox-environment-or-deploy-a-third-party-server",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"Sandbox environment or deploy a third-party server"]}),(0,e.jsx)("p",{children:_.texts[25].value}),(0,e.jsx)("p",{children:_.texts[26].value}),(0,e.jsxs)("p",{children:[_.texts[27].value,(0,e.jsx)("code",{children:_.texts[28].value}),_.texts[29].value,(0,e.jsx)("code",{children:_.texts[30].value})]}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:_.texts[31].value})})}),(0,e.jsx)(t.Z,{lang:"json",children:_.texts[32].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:_.texts[33].value})})}),(0,e.jsx)(t.Z,{lang:"javascript",children:_.texts[34].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:(0,e.jsx)("strong",{children:_.texts[35].value})})}),(0,e.jsx)(t.Z,{lang:"javascript",children:_.texts[36].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:_.texts[37].value})}),(0,e.jsx)(t.Z,{lang:"bash",children:_.texts[38].value}),(0,e.jsx)("ul",{children:(0,e.jsx)("li",{children:_.texts[39].value})}),(0,e.jsx)(t.Z,{lang:"bash",children:_.texts[40].value})]})})})})}n.default=o},69181:function(l,n,a){a.r(n),a.d(n,{texts:function(){return d}});const d=[{value:"Example address",paraId:0,tocIndex:0},{value:"Introduce the build configuration of different application scenarios.",paraId:1,tocIndex:0},{value:"By engineering platform release, deployment path has confirmed good when applying application, only the configuration ",paraId:2,tocIndex:1},{value:"PUBLIC_URL",paraId:2,tocIndex:1},{value:" can be.",paraId:2,tocIndex:1},{value:"Example: The deployment path of the application application is ",paraId:3,tocIndex:1},{value:"webapp/business-product",paraId:3,tocIndex:1},{value:"config/env.js",paraId:4,tocIndex:1},{value:`prod: {
  PUBLIC_URL: "/webapp/business-product/",
  // ...
}
`,paraId:5,tocIndex:1},{value:"In addition, the release engineering platform also need to add ",paraId:6,tocIndex:1},{value:"build.sh",paraId:6,tocIndex:1},{value:" files, and other items as this can be.",paraId:6,tocIndex:1},{value:"Custom project path, no strong specification constraints. After the development is completed, the resources are packaged in a zip file and released directly.",paraId:7,tocIndex:2},{value:"Agreed project path rules: /seashell/{computerSide=website|mobileSide=webapp}/{businessName}/{productName}/index.html",paraId:8,tocIndex:2},{value:"Example: publish a static resource application, deployed ",paraId:9,tocIndex:2},{value:"/seashell/webapp/business/product/",paraId:9,tocIndex:2},{value:" under the path",paraId:9,tocIndex:2},{value:"config/env.js",paraId:10,tocIndex:2},{value:`prod: {
  PUBLIC_URL: "https://img.example.com/seashell/webapp/business/product/",
  // ...
}
`,paraId:11,tocIndex:2},{value:"config/zip.js",paraId:12,tocIndex:2},{value:`pathPrefix = 'seashell/webapp/business/product/';
`,paraId:13,tocIndex:2},{value:"build",paraId:14,tocIndex:2},{value:`yarn build
`,paraId:15,tocIndex:2},{value:"zip",paraId:16,tocIndex:2},{value:`yarn zip
`,paraId:17,tocIndex:2},{value:"Deployed in a special environment or a third-party server, generally only the static resource path and interface address are different, and everything else is the same as the static resource.",paraId:18,tocIndex:3},{value:"So you only need to add a new build environment configuration.",paraId:19,tocIndex:3},{value:"Example: The above static resources deployed to ",paraId:20,tocIndex:3},{value:"sandbox.example.com",paraId:20,tocIndex:3},{value:" domain name, address of the interface ",paraId:20,tocIndex:3},{value:"http://sandbox.api.example.com/v1",paraId:20,tocIndex:3},{value:"package.json",paraId:21,tocIndex:3},{value:`"scripts": {
  "build:sandbox": "env-cmd -r ./config/env.js -e default,sandbox craco build",
}
`,paraId:22,tocIndex:3},{value:"config/env.js",paraId:23,tocIndex:3},{value:`sandbox: {
  PUBLIC_URL: "/seashell/webapp/business/product/",
  REACT_APP_API: "http://sandbox.api.example.com/v1",
  REACT_APP_ENV: "sandbox",
  BUILD_PATH: "dist"
},
`,paraId:24,tocIndex:3},{value:"config/zip.js",paraId:25,tocIndex:3},{value:`pathPrefix = 'seashell/webapp/business/product/';
`,paraId:26,tocIndex:3},{value:"build",paraId:27,tocIndex:3},{value:`yarn build:sandbox
`,paraId:28,tocIndex:3},{value:"zip",paraId:29,tocIndex:3},{value:`yarn zip
`,paraId:30,tocIndex:3}]}}]);
